# Core Testing

Goal: Behavior-first development and regression safety.

- Tests define correctness
- New feature requires:
  - unit tests for domain logic
  - integration tests for server actions/tRPC + DB
  - e2e tests for critical journeys
- Refactors require coverage check first
- No merge if CI red
- Prefer small diffs with green tests between steps
- Unit tests: `src/**/*.test.ts` (co-located)
- Integration tests: `src/**/*.test.ts`
- E2E tests: `e2e/**/*.spec.ts` (Playwright)
