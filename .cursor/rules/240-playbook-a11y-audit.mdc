# Playbook: Accessibility Audit

## Automated Checks

### Component Testing
- Use `@axe-core/react` for component accessibility testing
- Run axe checks in unit/integration tests
- Fail tests on critical/serious violations

### E2E Testing
- Use `@axe-core/playwright` for end-to-end accessibility testing
- Run axe checks in E2E test suites
- Include accessibility checks in critical user journeys

## Audit Checklist

### Keyboard Navigation
- [ ] All interactive elements keyboard accessible
- [ ] Logical tab order throughout
- [ ] No keyboard traps
- [ ] Escape key closes modals/dialogs
- [ ] Arrow keys work in lists/menus
- [ ] Enter/Space activate buttons/links

### Focus Management
- [ ] Visible focus indicators on all interactive elements
- [ ] Focus order is logical and intuitive
- [ ] Focus returns to trigger after modal closes
- [ ] Focus visible in high contrast mode
- [ ] Skip links available for main content

### Screen Reader Labels
- [ ] All images have descriptive alt text
- [ ] Form inputs have associated labels
- [ ] Buttons have descriptive text or aria-label
- [ ] Icons have aria-label or aria-hidden
- [ ] Landmarks properly marked (header, nav, main, footer)
- [ ] ARIA roles used appropriately
- [ ] Live regions for dynamic content
- [ ] Error messages announced to screen readers

### Color Contrast
- [ ] Text meets WCAG AA (4.5:1 for normal text, 3:1 for large text)
- [ ] UI components meet WCAG AA (3:1)
- [ ] Color not sole indicator of information
- [ ] High contrast mode supported

### Touch Targets
- [ ] Interactive elements at least 44x44px
- [ ] Adequate spacing between touch targets
- [ ] Touch targets don't overlap
- [ ] Mobile-friendly interaction patterns

## Severity Scale

### Critical
- Blocks core functionality
- Prevents users from completing primary tasks
- Violates WCAG Level A requirements
- Examples: missing form labels, keyboard traps, no focus indicators

**Fix Priority**: Immediate

### Serious
- Significantly impacts usability
- Makes tasks difficult or confusing
- Violates WCAG Level AA requirements
- Examples: poor contrast, missing alt text, unclear focus

**Fix Priority**: High (before next release)

### Minor
- Minor usability issues
- Best practice violations
- Examples: redundant ARIA, minor contrast issues, suboptimal labeling

**Fix Priority**: Medium (address in next sprint)

## Fix Order Rules

1. **Critical issues first** - Fix all critical issues before proceeding
2. **Serious issues next** - Address serious issues in priority order
3. **Minor issues last** - Fix minor issues as time permits
4. **Re-audit after fixes** - Run full audit again after each severity level
5. **Verify with screen readers** - Test with actual screen readers (NVDA, JAWS, VoiceOver)
6. **Test keyboard-only navigation** - Verify all functionality works without mouse

## Process

### 1. Run Automated Checks
- Run `@axe-core/react` on components
- Run `@axe-core/playwright` in E2E tests
- Document all violations

### 2. Manual Audit
- Go through checklist systematically
- Test with keyboard only
- Test with screen reader
- Test in high contrast mode
- Test on mobile devices

### 3. Categorize Issues
- Classify each issue by severity (critical/serious/minor)
- Document impact and affected users
- Prioritize fixes

### 4. Fix Issues
- Fix critical issues first
- Fix serious issues next
- Fix minor issues last
- Re-audit after each severity level

### 5. Verify Fixes
- Re-run automated checks
- Re-run manual audit
- Test with actual assistive technologies
- Verify no regressions

## Definition of Done Checklist

An accessibility audit is considered done when:

- ✅ Automated checks passing (@axe-core/react, @axe-core/playwright)
- ✅ All critical issues fixed
- ✅ All serious issues fixed (or documented for next release)
- ✅ Manual audit completed
- ✅ Keyboard navigation verified
- ✅ Screen reader testing completed
- ✅ Color contrast verified
- ✅ Touch targets verified
- ✅ WCAG 2.2 AA compliance achieved
- ✅ Re-audit completed after fixes
- ✅ No regressions introduced

## Tools

- **@axe-core/react** - Component accessibility testing
- **@axe-core/playwright** - E2E accessibility testing
- **axe DevTools** - Browser extension for manual testing
- **WAVE** - Web accessibility evaluation tool
- **Lighthouse** - Accessibility scoring
- **Screen readers**: NVDA (Windows), JAWS (Windows), VoiceOver (macOS/iOS)
