# Code Quality Rules

## TypeScript

- **Strict mode always ON** - No exceptions
- **No `any` types** - Use `unknown` and type guards instead
- **Precise types** - Avoid overly broad types like `object` or `Record<string, unknown>`
- **Type guards** - Use for parsing unknown data (localStorage, API responses, etc.)
- **Generic constraints** - Constrain generics appropriately (`<T extends {...}>`)

## Code Style

- **Explicit over clever** - Prefer readable, straightforward code
- **Co-locate files** - Keep related files near where they're used
- **Small functions** - Functions should do one thing well
- **Pure components** - Components should be deterministic and accessible
- **No console.log** - Use proper logging (remove before committing)

## Formatting

- Use Prettier for code formatting (`pnpm format`)
- Run Prettier before committing
- ESLint handles code quality, Prettier handles style
- Follow existing patterns in the codebase

## Accessibility

- **Semantic HTML first** - Use proper HTML elements before ARIA
- **Keyboard navigation** - Ensure all interactive elements are keyboard accessible
- **ARIA labels** - Use when semantic HTML isn't sufficient
- **Alt text** - All images must have descriptive alt attributes
- **Focus management** - Manage focus for modals, dialogs, and dynamic content
- **WCAG 2.2 AA** - Target compliance level

## Error Handling

- **Always handle errors** - No unhandled promises or try/catch blocks
- **User-friendly messages** - Errors should be clear and actionable
- **Logging** - Log errors with context for debugging
- **Type-safe errors** - Use discriminated unions for error states
