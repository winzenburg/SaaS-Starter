# tRPC Conventions

Goal: Prevent path/layout disagreements between agents.

- tRPC route handler: `/app/api/trpc/[trpc]/route.ts`
- Root router + createCaller: `src/lib/trpc/server.ts`
- React Query client: `src/lib/trpc/client.ts`
- Feature routers: `src/features/<feature>/data/router.ts`
- Use Zod schemas from `domain/schemas.ts`
- Protected procedures use shared auth middleware
- Input/output validation with Zod on all procedures
- Error handling via tRPC error types
